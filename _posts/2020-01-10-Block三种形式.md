---
layout:     post
title:      "Block的三种形式"
subtitle:   " \"关于Block的三种形式\""
date:       2020-01-10 12:00:00
author:     "jsw_cool"
header-img: "img/post-bg-halting.jpg"
catalog: true
tags:
    - iOS
---


### 全局Block(_NSConcreteGlobalBlock)

不使用外部变量的block是全局block
```
  NSLog(@"%@",[^{
        NSLog(@"globalBlock");
    } class]);
```

### 栈Block(_NSConcreteStackBlock)

使用外部变量并且未进行copy操作的block是栈block
```
  NSInteger num = 10;
    NSLog(@"%@",[^{
        NSLog(@"stackBlock:%zd",num);
    } class]);
```

### 堆Block(_NSConcreteMallocBlock)

```
      __block int n = 5;
        void (^myblock)() = ^{
            n = 6;
            NSLog(@"hello");
            NSLog(@"%d",n);
        };
    NSLog(@"%@",[myblock copy]);
```